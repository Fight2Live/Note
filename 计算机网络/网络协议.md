# 网络协议

### 网络分层模型

OSI/RM模型，又叫逻辑分层，共7层：

​	应用层、表示层、会话层、传输层、网络层、数据链路层、物理层

TCP/IP模型，又叫实际分层，共5层： 

​	应用层、传输层、网络层、网络接口层

不同之处，TCP/IP模型把OSI/RM模型的应用层、表示层、会话层合并为应用层，把数据链路层、物理层合并为网络接口层。

其中TCP/IP模型的应用层、传输层称为媒介层，网络层、网络接口层称为主机层。

以实际分层为标准，每一层的常见协议如下：

| 实际分层   | 常见协议                                                     |
| ---------- | ------------------------------------------------------------ |
| 应用层     | DHCP · DNS · FTP · Gopher · HTTP · IMAP4 · IRC · NNTP · XMPP · POP3 · SIP · SMTP · SNMP · SSH · TELNET · RPC · RTCP · RTP · RTSP · SDP · SOAP · GTP · STUN · NTP · SSDP · BGP 等 |
| 传输层     | TCP · UDP · TLS · DCCP · SCTP · RSVP · OSPF 等               |
| 网络层     | IP (IPv4 ·IPv6) · ICMP· ICMPv6 · IGMP ·IS-IS · IPsec · ARP · RARP · RIP等 |
| 网络接口层 | Wi-Fi(IEEE 802.11) · WiMAX(IEEE 802.16) · ATM · DTM · 令牌环 · 以太网 ·FDDI · 帧中继 · GPRS · EVDO ·HSPA · HDLC · PPP · L2TP · PPTP · ISDN · STP · CSMA/CD等，调制解调器 · 电力线通信 · 光导纤维 · 同轴电缆 · 双绞线等 |



### TCP/IP协议结构体系

一些常用的协议被归纳为”TCP/IP协议结构体系“。

在互联网（WAN）中常用的协议有IP、TCP、HTTP、UDP等，局域网（LAN）中常用到的协议有IPX、SPX等



#### UDP

UDP协议定义了端口，同一个主机上的每个应用程序都需要指定唯一的端口号，并且规定网络中传输的数据包必须加上端口信息，当数据包到达主机以后，就可以根据端口号找到对应的应用程序。

UDP协议比较简单，实现容易，但它没有确认机制，数据包一旦发出，无法知道对方是否收到，因此可靠性较差，为了解决这个问题，提高网络可靠性，就产生了TCP协议。



#### TCP（Transmission Control Protocol，传输控制协议）

TCP是一种面向连接（连接导向）的、可靠的基于字节流的传输层通信协议。

TCP将用户数据打包成报文段，它发送后启动一个定时器，另一端收到的数据进行确认、对失序的数据重新排序、丢弃重复数据。

TCP的特点有：

- TCP是面向连接的运输层协议。
- 每一条TCP连接只能有两个端点，每一条TCP连接只能是点对点的。
- TCP提供可靠交付的服务。
- TCP提供全双工通信。数据在两个方向上独立的进行传输。因此，连接的每一端必须保持每个方向上的传输数据序号。
- 面向字节流。面向字节流的含义：虽然应用程序和TCP交互是一次一个数据块，但TCP把应用程序交下来的数据仅仅是一连串的无结构的字节流。



#### HTTP（HyperText Transfer Protocol，超文本传输协议）

